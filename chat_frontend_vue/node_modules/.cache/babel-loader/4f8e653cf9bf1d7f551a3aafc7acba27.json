{"remainingRequest":"E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\babel-loader\\lib\\index.js!E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\src\\components\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\src\\components\\Main.vue","mtime":1593582478217},{"path":"E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Study\\杉达\\Jee项目实践\\大作业\\project\\chat_frontend_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIHJvdXRlcjogcm91dGVyLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtc2dVc2VySWQ6IG51bGwsCiAgICAgIHNlYXJjaDogbnVsbCwKICAgICAgdGFiTGlzdDogWyLlpb3lj4siLCAi576k57uEIl0sCiAgICAgIGZyaWVuZDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vIOiOt+WPluWlveWPiwogICAgdGhpcy5heGlvcy5nZXQoIi91c2VyL2ZyaWVuZCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldEZyaWVuZExpc3QnLCByZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICByb3V0ZXIucmVwbGFjZSgiL3dlbGNvbWUiKTsKICAgICAgfQogICAgfSk7IC8vIOiOt+WPlue+pOe7hAoKICAgIHRoaXMuYXhpb3MuZ2V0KCIvdXNlci9ncm91cCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldEdyb3VwTGlzdCcsIHJlc3BvbnNlLmRhdGEpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgIHJvdXRlci5yZXBsYWNlKCIvd2VsY29tZSIpOwogICAgICB9CiAgICB9KTsgLy8g5Yid5aeL5YyWd2Vic29ja2V0CgogICAgaWYgKHR5cGVvZiBXZWJTb2NrZXQgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGFsZXJ0KCLmgqjnmoTmtY/op4jlmajkuI3mlK/mjIFXZWJTb2NrZXQhIik7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vMTI3LjAuMC4xOjgwODgvd3MnKTsKICAgICAgdGhpcy5zb2NrZXQub25vcGVuID0gdGhpcy5vcGVuOwogICAgICB0aGlzLnNvY2tldC5vbmVycm9yID0gdGhpcy5lcnJvcjsKICAgICAgdGhpcy5zb2NrZXQub25tZXNzYWdlID0gdGhpcy5nZXRNZXNzYWdlOwogICAgfQoKICAgIHRoaXMuc2Nyb2xsKCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLmNsb3NlOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6YCJ5oupVGFiCiAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQoaXRlbSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEN1cnJlbnRUYWInLCBpdGVtKTsKICAgIH0sCiAgICAvLyDms6jplIAKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLmF4aW9zLnBvc3QoIi9hdXRoL2xvZ291dCIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgcm91dGVyLnJlcGxhY2UoIi93ZWxjb21lIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmn6Xor6Llpb3lj4vkv6Hmga8KICAgIHF1ZXJ5RnJpZW5kOiBmdW5jdGlvbiBxdWVyeUZyaWVuZChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvZnJpZW5kL2luZm8vIiArIGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLmRhdGEucmVjTXNnID0gW107CgogICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCJzZXRRdWVyeVJlc3VsdCIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvbWFpbi9mcmllbmRjaGF0Jyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmn6Xor6LnvqTnu4Tkv6Hmga8KICAgIHF1ZXJ5R3JvdXA6IGZ1bmN0aW9uIHF1ZXJ5R3JvdXAoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiL2dyb3VwL2luZm9Hcm91cC8iICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmVzcG9uc2UuZGF0YS5yZWNNc2cgPSBbXTsKCiAgICAgICAgX3RoaXMzLiRzdG9yZS5jb21taXQoInNldFF1ZXJ5UmVzdWx0IiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goJy9tYWluL2dyb3VwY2hhdCcpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57Si55So5oi3CiAgICBzZWFyY2hVc2VyOiBmdW5jdGlvbiBzZWFyY2hVc2VyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvdXNlci9xdWVyeVVzZXI/bmFtZT0iICsgdGhpcy5zZWFyY2gpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICBfdGhpczQuJHN0b3JlLmNvbW1pdCgic2V0U2VhcmNoUmVzdWx0IiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgcm91dGVyLnB1c2goIi9tYWluL3NlYXJjaHVzZXIiKTsKICAgICAgICB9IGVsc2UgYWxlcnQoIuaXoOaQnOe0oue7k+aenCIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pCc57Si576k57uECiAgICBzZWFyY2hHcm91cDogZnVuY3Rpb24gc2VhcmNoR3JvdXAoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5heGlvcy5nZXQoJy9ncm91cC9xdWVyeUdyb3VwLycgKyB0aGlzLnNlYXJjaCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICAgIF90aGlzNS4kc3RvcmUuY29tbWl0KCJzZXRTZWFyY2hSZXN1bHQiLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICByb3V0ZXIucHVzaCgiL21haW4vc2VhcmNoZ3JvdXAiKTsKICAgICAgICB9IGVsc2UgYWxlcnQoIuaXoOaQnOe0oue7k+aenCIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5a6a5LmJd2Vic29ja2V05Z+656GA5pa55rOVCiAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKCkgewogICAgICBjb25zb2xlLmxvZygiU29ja2V0IGNvbm5lY3RlZCIpOwogICAgICB0aGlzLmluaXQoKTsKICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJTb2NrZXQgZXJyb3IiKTsKICAgIH0sCiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKHJlcXVlc3QpIHsKICAgICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgICB9LAogICAgZ2V0TWVzc2FnZTogZnVuY3Rpb24gZ2V0TWVzc2FnZShyZXNwb25zZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5kYXRhKTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7IC8vIOiBiuWkqea2iOaBrwoKICAgICAgaWYgKGRhdGEuYWN0aW9uID09PSAyKSB7CiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIGRhdGEuY2hhdE1zZy50aW1lID0gZGF0ZS50b0xvY2FsZVN0cmluZygnY2hpbmVzZScsIHsKICAgICAgICAgIGhvdXIxMjogZmFsc2UKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInB1c2hSZWNNc2ciLCBkYXRhLmNoYXRNc2cpOwoKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUucXVlcnlSZXN1bHQuaWQgIT09IGRhdGEuaWQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnNjcm9sbCgpOwogICAgICAgIHRoaXMubXNnVXNlcklkID0gZGF0YS5jaGF0TXNnLnNlbmRlcklkOwogICAgICB9IC8vIOWlveWPi+eUs+ivtwoKCiAgICAgIGlmIChkYXRhLmFjdGlvbiA9PT0gOSkgewogICAgICAgIHRoaXMubXNnVXNlcklkID0gJ3JlcXVlc3QnOwogICAgICB9IC8vIOWlveWPi+eUs+ivt+mAmui/hwoKCiAgICAgIGlmIChkYXRhLmFjdGlvbiA9PT0gNSkgewogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvdXNlci9mcmllbmQiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM2LiRzdG9yZS5jb21taXQoJ3NldEZyaWVuZExpc3QnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICByb3V0ZXIucmVwbGFjZSgiL3dlbGNvbWUiKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coIlNvY2tldCBjbG9zZWQiKTsKICAgIH0sCiAgICAvLyDliJ3lp4vljJYKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBpbml0UmVxID0gewogICAgICAgICJhY3Rpb24iOiAxLAogICAgICAgICJjaGF0TXNnIjogewogICAgICAgICAgInNlbmRlcklkIjogdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFVzZXIuaWQKICAgICAgICB9CiAgICAgIH07CiAgICAgIGluaXRSZXEuY2hhdE1zZy5zZW5kZXJJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRVc2VyLmlkOwogICAgICB0aGlzLnNlbmQoaW5pdFJlcSk7CiAgICB9LAogICAgLy8g5b2T5YmN6Lev5b6E5YyF5ZCrImNoYXQi5pe277yM5a6a5L2N5rua5Yqo5p2h5Zyo5pyA5LiL5pa5CiAgICBzY3JvbGw6IGZ1bmN0aW9uIHNjcm9sbCgpIHsKICAgICAgdmFyIGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKCiAgICAgIGlmIChocmVmLmluZGV4T2YoImNoYXQiKSA+IDApIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgbXNnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njcm9sbCcpOwogICAgICAgICAgbXNnLnNjcm9sbFRvcCA9IG1zZy5zY3JvbGxIZWlnaHQ7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"left\">\r\n            <div class=\"leftHeader\">\r\n                <div class=\"avatar\">\r\n                    <span v-text=\"$store.state.currentUser.name.substr(0,1)\"></span>\r\n                </div>\r\n                <p v-text=\"$store.state.currentUser.name\" class=\"userName\" @click=\"$router.push('/main/editinfo')\"></p>\r\n            </div>\r\n            <div class=\"search\">\r\n                <label>\r\n                    <input type=\"text\" v-model=\"search\" placeholder=\"用户名称/群名称\">\r\n                </label>\r\n                <div class=\"searchUser\" @click=\"searchUser\">搜人</div>\r\n                <div class=\"searchGroup\" @click=\"searchGroup\">搜群</div>\r\n            </div>\r\n            <div class=\"tabBox\">\r\n                <div class=\"tab\" v-for=\"tab in tabList\" :class=\"{active : $store.state.currentTab === tab}\"\r\n                     @click=\"selected(tab)\" v-text=\"tab\">\r\n                </div>\r\n            </div>\r\n            <div class=\"listBox\">\r\n                <div class=\"list\" v-show=\"$store.state.currentTab==='好友'\">\r\n                    <div class=\"friendRequest\" @click=\"$router.push('/main/friendrequest')\"\r\n                         :class=\"{red:msgUserId === 'request'}\">好友请求\r\n                    </div>\r\n                    <div v-for=\"friendGroup in $store.state.friendList\" class=\"friendGroupList\">\r\n                        <span class=\"friendGroupName\">{{friendGroup.groupName}}</span>\r\n                        <div v-for=\"user in friendGroup.users\" class=\"friendsList\"\r\n                             @click=\"queryFriend(user.id); msgUserId = null\" :class=\"{red:msgUserId === user.id}\">\r\n                            <div class=\"friendsAvatar\">\r\n                                <span v-text=\"user.name.substr(0,1)\"></span>\r\n                            </div>\r\n                            <div v-text=\"user.name\" class=\"friendsName\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"list\" v-show=\"$store.state.currentTab==='群组'\">\r\n                    <div class=\"groupList createGroup\" @click=\"$router.push('/main/createGroup')\">+ 创建群聊</div>\r\n                    <div v-for=\"group in $store.state.groupList\" class=\"groupList\" @click=\"queryGroup(group.id)\">\r\n                        <span class=\"groupName\">{{group.name}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"logout\" @click=\"logout\">注销</div>\r\n        </div>\r\n        <div class=\"right\">\r\n            <router-view></router-view>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import router from \"../router\";\r\n\r\n    export default {\r\n        router,\r\n        data() {\r\n            return {\r\n                msgUserId: null,\r\n                search: null,\r\n                tabList: [\"好友\", \"群组\"],\r\n                friend: null\r\n            }\r\n        },\r\n        mounted() {\r\n            // 获取好友\r\n            this.axios.get(\"/user/friend\").then(response => {\r\n                this.$store.commit('setFriendList', response.data);\r\n            }).catch((error) => {\r\n                if (error.response.status === 401) {\r\n                    router.replace(\"/welcome\")\r\n                }\r\n            });\r\n            // 获取群组\r\n            this.axios.get(\"/user/group\").then(response => {\r\n                this.$store.commit('setGroupList', response.data);\r\n            }).catch((error) => {\r\n                if (error.response.status === 401) {\r\n                    router.replace(\"/welcome\")\r\n                }\r\n            });\r\n            // 初始化websocket\r\n            if (typeof (WebSocket) === \"undefined\") {\r\n                alert(\"您的浏览器不支持WebSocket!\")\r\n            } else {\r\n                this.socket = new WebSocket('ws://127.0.0.1:8088/ws')\r\n                this.socket.onopen = this.open\r\n                this.socket.onerror = this.error\r\n                this.socket.onmessage = this.getMessage\r\n            }\r\n            this.scroll();\r\n        },\r\n        destroyed() {\r\n            this.socket.onclose = this.close\r\n        },\r\n        methods: {\r\n            // 选择Tab\r\n            selected(item) {\r\n                this.$store.commit('setCurrentTab', item)\r\n            },\r\n            // 注销\r\n            logout() {\r\n                this.axios.post(\"/auth/logout\").then(() => {\r\n                    sessionStorage.clear();\r\n                    router.replace(\"/welcome\");\r\n                }).catch(function (error) {\r\n                    console.log(error.response.data);\r\n                });\r\n            },\r\n            // 查询好友信息\r\n            queryFriend(id) {\r\n                this.axios.get(\"/friend/info/\" + id).then(response => {\r\n                    response.data.recMsg = [];\r\n                    this.$store.commit(\"setQueryResult\", response.data);\r\n                    this.$router.push('/main/friendchat')\r\n                }).catch(function (error) {\r\n                    console.log(error.response.data);\r\n                });\r\n            },\r\n            // 查询群组信息\r\n            queryGroup(id) {\r\n                this.axios.get(\"/group/infoGroup/\" + id).then(response => {\r\n                    response.data.recMsg = [];\r\n                    this.$store.commit(\"setQueryResult\", response.data);\r\n                    this.$router.push('/main/groupchat')\r\n                }).catch(function (error) {\r\n                    console.log(error.response.data);\r\n                });\r\n            },\r\n            // 搜索用户\r\n            searchUser() {\r\n                this.axios.get(\"/user/queryUser?name=\" + this.search).then(response => {\r\n                    if (response.data.length !== 0) {\r\n                        this.$store.commit(\"setSearchResult\", response.data);\r\n                        router.push(\"/main/searchuser\")\r\n                    } else alert(\"无搜索结果\");\r\n                }).catch(function (error) {\r\n                    alert(error.response.data.error);\r\n                    console.log(error.response.data);\r\n                });\r\n            },\r\n            // 搜索群组\r\n            searchGroup() {\r\n                this.axios.get('/group/queryGroup/' + this.search).then(response => {\r\n                    if (response.data.length !== 0) {\r\n                        this.$store.commit(\"setSearchResult\", response.data);\r\n                        router.push(\"/main/searchgroup\")\r\n                    } else alert(\"无搜索结果\");\r\n                }).catch(function (error) {\r\n                    alert(error.response.data.error);\r\n                    console.log(error.response.data.error);\r\n                });\r\n            },\r\n            // 定义websocket基础方法\r\n            open() {\r\n                console.log(\"Socket connected\");\r\n                this.init();\r\n            },\r\n            error() {\r\n                console.log(\"Socket error\")\r\n            },\r\n            send(request) {\r\n                this.socket.send(JSON.stringify(request));\r\n            },\r\n\r\n            getMessage(response) {\r\n                let data = JSON.parse(response.data);\r\n                console.log(data);\r\n                // 聊天消息\r\n                if (data.action === 2) {\r\n                    let date = new Date();\r\n                    data.chatMsg.time = date.toLocaleString('chinese', {hour12: false});\r\n                    this.$store.commit(\"pushRecMsg\", data.chatMsg);\r\n                    if (this.$store.state.queryResult.id !== data.id) {\r\n                        console.log();\r\n                    }\r\n                    this.scroll();\r\n                    this.msgUserId = data.chatMsg.senderId;\r\n                }\r\n                // 好友申请\r\n                if (data.action === 9) {\r\n                    this.msgUserId = 'request'\r\n                }\r\n                // 好友申请通过\r\n                if (data.action === 5) {\r\n                    this.axios.get(\"/user/friend\").then(response => {\r\n                        this.$store.commit('setFriendList', response.data);\r\n                    }).catch((error) => {\r\n                        if (error.response.status === 401) {\r\n                            router.replace(\"/welcome\")\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n            close() {\r\n                console.log(\"Socket closed\")\r\n            },\r\n            // 初始化\r\n            init() {\r\n                let initReq = {\r\n                    \"action\": 1,\r\n                    \"chatMsg\": {\r\n                        \"senderId\": this.$store.state.currentUser.id\r\n                    }\r\n                };\r\n                initReq.chatMsg.senderId = this.$store.state.currentUser.id;\r\n                this.send(initReq)\r\n            },\r\n            // 当前路径包含\"chat\"时，定位滚动条在最下方\r\n            scroll() {\r\n                let href = window.location.href;\r\n                if (href.indexOf(\"chat\") > 0) {\r\n                    this.$nextTick(() => {\r\n                        let msg = document.getElementById('scroll');\r\n                        msg.scrollTop = msg.scrollHeight\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .main {\r\n        width: 1000px;\r\n        height: 100%;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .left {\r\n        float: left;\r\n        background-color: rgb(46, 50, 56);\r\n        width: 30%;\r\n        height: 100%;\r\n    }\r\n\r\n    .right {\r\n        float: right;\r\n        background-color: rgb(238, 238, 238);\r\n        width: 70%;\r\n        height: 100%;\r\n    }\r\n\r\n    .leftHeader {\r\n        height: 60px;\r\n        border-bottom: 1px solid rgb(36, 39, 44);\r\n        padding: 12px 30px;\r\n    }\r\n\r\n    .avatar {\r\n        width: 60px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        background-color: deepskyblue;\r\n        border-radius: 50%;\r\n        text-align: center;\r\n        color: white;\r\n        float: left;\r\n    }\r\n\r\n    .avatar > span {\r\n        font-size: 30px;\r\n    }\r\n\r\n    .userName {\r\n        width: 180px;\r\n        height: 100%;\r\n        float: right;\r\n        margin: 0;\r\n        font-size: 30px;\r\n        line-height: 60px;\r\n        color: white;\r\n        text-align: center;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .search {\r\n        height: 40px;\r\n        padding: 10px;\r\n    }\r\n\r\n    .search > label > input {\r\n        width: 60%;\r\n        display: block;\r\n        height: 40px;\r\n        border-radius: 10px 0 0 10px;\r\n        padding-left: 20px;\r\n        border: none;\r\n        outline: none;\r\n        margin: 0 auto;\r\n        background-color: rgb(238, 238, 238);\r\n        float: left;\r\n    }\r\n\r\n\r\n    .searchUser, .searchGroup {\r\n        color: white;\r\n        text-align: center;\r\n        line-height: 40px;\r\n        width: 15%;\r\n        height: 40px;\r\n        background-color: #444444;\r\n        float: left;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .searchUser:hover, .searchGroup:hover {\r\n        background-color: #222222;\r\n    }\r\n\r\n    .searchGroup {\r\n        border-radius: 0 10px 10px 0;\r\n        border-left: 1px solid #222222;\r\n    }\r\n\r\n    .tabBox {\r\n        height: 50px;\r\n    }\r\n\r\n    .tab {\r\n        margin-top: 6px;\r\n        width: 49%;\r\n        float: left;\r\n        text-align: center;\r\n        color: white;\r\n        background-color: #222222;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        cursor: pointer;\r\n        border-right: 1px solid #2E3238;\r\n    }\r\n\r\n    .active {\r\n        background-color: #444;\r\n    }\r\n\r\n    .listBox {\r\n    }\r\n\r\n    .friendRequest {\r\n        height: 60px;\r\n        line-height: 60px;\r\n        padding-left: 20px;\r\n        color: white;\r\n        background: #222222;\r\n        font-weight: bold;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .friendGroupList {\r\n        background-color: rgb(46, 50, 56);\r\n        border-top: 1px solid rgb(46, 50, 56);\r\n        color: white;\r\n    }\r\n\r\n    .friendGroupName {\r\n        display: inline-block;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        padding-left: 20px;\r\n    }\r\n\r\n    .friendsList {\r\n        height: 60px;\r\n        border-top: 1px solid rgb(46, 50, 56);\r\n        padding-left: 40px;\r\n        vertical-align: center;\r\n        background-color: #222222;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .friendsAvatar {\r\n        margin: 15px 0;\r\n        width: 30px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        background-color: deepskyblue;\r\n        border-radius: 50%;\r\n        text-align: center;\r\n        color: white;\r\n        float: left;\r\n    }\r\n\r\n    .friendsAvatar > span {\r\n        font-size: 15px;\r\n    }\r\n\r\n    .friendsName {\r\n        height: 60px;\r\n        width: 100px;\r\n        float: left;\r\n        line-height: 60px;\r\n        padding-left: 15px;\r\n    }\r\n\r\n    .groupList {\r\n        background-color: #222222;\r\n        border-top: 1px solid rgb(46, 50, 56);\r\n        color: white;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .groupName {\r\n        display: inline-block;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        padding-left: 20px;\r\n    }\r\n\r\n    .logout {\r\n        position: absolute;\r\n        bottom: 0;\r\n        color: white;\r\n        font-size: 20px;\r\n        width: 300px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        text-align: center;\r\n        background-color: #222222;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .createGroup {\r\n        font-weight: bold;\r\n        cursor: pointer;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        padding-left: 20px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .red {\r\n        color: red;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}